<div>


  <v-container v-if="!ready">
    Грузимся
  </v-container>

  <v-container v-else>
    <v-row>
      <v-col
              cols="8"
      >

        Список
        <br><br>




        <v-data-table
                :headers="headers"
                :items="company_list"
                sort-by="calories"
                class="elevation-1"
        >
          <template v-slot:top>
            <v-toolbar
                    flat
            >
              <v-toolbar-title>
                <v-btn
                      @click="loadList"
                      color="green"
                      dark
                >
                  Обновить таблицу
                </v-btn>
              </v-toolbar-title>
              <v-divider
                      class="mx-4"
                      inset
                      vertical
              ></v-divider>
              <v-spacer></v-spacer>
              <v-btn
                      color="primary"
                      dark
                      class="mb-2"
                      @click="loadItem(company)"
              >
                Новая
              </v-btn>


              <v-dialog
                      v-model="dialog"
                      max-width="500px"
              >
                <template v-slot:activator="{ on, attrs }">
                  <v-btn
                          color="primary"
                          dark
                          class="mb-2"
                          v-bind="attrs"
                          v-on="on"
                          disabled
                  >
                    New Item
                  </v-btn>
                </template>
                <v-card>
                  <v-card-title>
                    <span class="text-h5">Title</span>
                  </v-card-title>

                  <v-card-text>
                    <v-container>
                      <v-row>
                        <v-col
                                cols="12"
                                sm="6"
                                md="4"
                        >
                          <v-text-field
                                  v-model="company_edited.name_ru"
                                  label="name_ru"
                          ></v-text-field>
                        </v-col>
                        <v-col
                                cols="12"
                                sm="6"
                                md="4"
                        >
                          <v-text-field
                                  v-model="company_edited.name_eng"
                                  label="name_eng"
                          ></v-text-field>
                        </v-col>
                        <v-col
                                cols="12"
                                sm="6"
                                md="4"
                        >
                          <v-text-field
                                  v-model="company_edited.brand"
                                  label="Fat (g)"
                          ></v-text-field>
                        </v-col>
                        <v-col
                                cols="12"
                                sm="6"
                                md="4"
                        >
                          <v-text-field
                                  v-model="company_edited.description"
                                  label="Carbs (g)"
                          ></v-text-field>
                        </v-col>
                        <v-col
                                cols="12"
                                sm="6"
                                md="4"
                        >
                          <v-text-field
                                  v-model="company_edited.country"
                                  label="country)"
                          ></v-text-field>
                        </v-col>
                      </v-row>
                    </v-container>
                  </v-card-text>

                  <v-card-actions>
                    <v-spacer></v-spacer>
                    <v-btn
                            color="blue darken-1"
                            text
                            @click="close"
                    >
                      Cancel
                    </v-btn>
                    <v-btn
                            color="blue darken-1"
                            text
                            @click="save"
                    >
                      Save
                    </v-btn>
                  </v-card-actions>
                </v-card>
              </v-dialog>
              <v-dialog v-model="dialogDelete" max-width="500px">
                <v-card>
                  <v-card-title class="text-h5">Are you sure you want to delete this item?</v-card-title>
                  <v-card-actions>
                    <v-spacer></v-spacer>
                    <v-btn disabled color="blue darken-1" text @click="closeDelete">Cancel</v-btn>
                    <v-btn disabled color="blue darken-1" text @click="deleteItemConfirm">OK</v-btn>
                    <v-spacer></v-spacer>
                  </v-card-actions>
                </v-card>
              </v-dialog>
            </v-toolbar>
          </template>
          <template v-slot:item.actions="{ item }">
<!--            <v-icon-->
<!--                    small-->
<!--                    class="mr-2"-->
<!--                    @click="editItem(item)"-->
<!--                    disabled-->
<!--            >-->
<!--              mdi-pencil-->
<!--            </v-icon>-->
<!--            <v-icon-->
<!--                    disabled-->
<!--                    small-->
<!--                    @click="deleteItem(item)"-->
<!--            >-->
<!--              mdi-delete-->
<!--            </v-icon>-->

            <v-icon
                    small
                    blue
                    @click="loadItem(item)"
            >
              mdi-pencil
            </v-icon>

          </template>
          <template v-slot:no-data>
            <v-btn
                    color="primary"
                    @click="initialize"
            >
              Reset
            </v-btn>
          </template>
        </v-data-table>









      </v-col>


      <v-col
              cols="4"
      >

        <v-text-field
                label="ID"
                disabled
                v-model="company_edited.id"
        ></v-text-field>

        <v-text-field
                label="Название"
                v-model="company_edited.name_ru"
        ></v-text-field>

        <v-text-field
                label="Название en"
                v-model="company_edited.name_eng"
        ></v-text-field>

        <v-text-field
                label="Бренд"
                v-model="company_edited.brand"
        ></v-text-field>

        <v-text-field
                label="Описание"
                v-model="company_edited.description"
        ></v-text-field>

        <v-menu
                v-model="picker.in"
                :close-on-content-click="false"
                :nudge-right="40"
                transition="scale-transition"
                offset-y
                min-width="auto"
        >
          <template v-slot:activator="{ on, attrs }">
            <v-text-field
                    v-model="company_edited.year_in"
                    label="На рынке с"
                    prepend-icon="mdi-calendar"
                    readonly
                    v-bind="attrs"
                    v-on="on"
            ></v-text-field>
          </template>
          <v-date-picker
                  v-model="company_edited.year_in"
                  @input="picker.in = false"
          ></v-date-picker>
        </v-menu>



        <v-menu
                v-model="picker.out"
                :close-on-content-click="false"
                :nudge-right="40"
                transition="scale-transition"
                offset-y
                min-width="auto"
        >
          <template v-slot:activator="{ on, attrs }">
            <v-text-field
                    v-model="company_edited.year_out"
                    label="Ушли"
                    prepend-icon="mdi-calendar"
                    readonly
                    v-bind="attrs"
                    v-on="on"
            ></v-text-field>
          </template>
          <v-date-picker
                  v-model="company_edited.year_out"
                  @input="picker.out = false"
          ></v-date-picker>
        </v-menu>



        <v-menu
                v-model="picker.return"
                :close-on-content-click="false"
                :nudge-right="40"
                transition="scale-transition"
                offset-y
                min-width="auto"
        >
          <template v-slot:activator="{ on, attrs }">
            <v-text-field
                    v-model="company_edited.year_return"
                    label="Вернулись"
                    prepend-icon="mdi-calendar"
                    readonly
                    v-bind="attrs"
                    v-on="on"
            ></v-text-field>
          </template>
          <v-date-picker
                  v-model="company_edited.year_return"
                  @input="picker.return = false"
          ></v-date-picker>
        </v-menu>



        <v-select
                label="Статус"
                :items="status"
                item-value="id"
                item-text="name"

        ></v-select>

        <v-switch
                v-model="company_edited.is_leave"
                :label="`Ушла с рынка: ${company_edited.is_leave.toString()}`"
        ></v-switch>

        <v-textarea
                label="Коммент"
                hint="Hint text"
                outlined
                v-model="company_edited.comment"
        ></v-textarea>

        <v-textarea
                label="Картинки"
                outlined
                v-model="company_edited.images_text"
        ></v-textarea>

        <v-textarea
                label="Ссылки"
                outlined
                v-model="company_edited.links_text"
        ></v-textarea>

        <v-textarea
                label="Люди"
                outlined
                v-model="company_edited.peoples_text"
        ></v-textarea>

        <v-select
                label="Сегмент"
                :items="segment"
                item-value="id"
                item-text="name"
                v-model="company_edited.segment"
        ></v-select>


        <v-subheader class="pl-0">
          Уровень последствий
        </v-subheader>
        <v-slider
                v-model="company_edited.rage"
                :thumb-size="24"
                thumb-label="always"
        >
          <template v-slot:thumb-label="{ value }">
            {{ satisfactionEmojis[Math.min(Math.floor(value / 10), 9)] }}
          </template>
        </v-slider>

        <v-text-field
                label="Страна"
                v-model="company_edited.country"
        ></v-text-field>

        <v-text-field
                label="Страна основателей"
                v-model="company_edited.country_root"
        ></v-text-field>

        <v-text-field
                label="Страна основателей"
                v-model="company_edited.country_root"
        ></v-text-field>


        <v-btn
                color="green"
                dark
                :loading="working"
                :disabled = "!company_edited.id==0"
                @click="addUpdateCompany"
        >
          Добавить
        </v-btn>

        <v-btn
                color="amber"
                dark
                :loading="working"
                :disabled = "!company_edited.id>0"
                @click="addUpdateCompany"
        >
          Обновить
        </v-btn>

      </v-col>










    </v-row>
  </v-container>











</div>
